# Claude向けスキル構築 完全ガイド

> 原文: *The Complete Guide to Building Skills for Claude* (Anthropic, January 2026)
> 本文書は上記PDFの全文日本語翻訳である。

---

## 目次

- [はじめに](#はじめに)
- [第1章: 基本](#第1章-基本)
- [第2章: 計画と設計](#第2章-計画と設計)
- [第3章: テストと反復](#第3章-テストと反復)
- [第4章: 配布と共有](#第4章-配布と共有)
- [第5章: パターンとトラブルシューティング](#第5章-パターンとトラブルシューティング)
- [第6章: リソースとリファレンス](#第6章-リソースとリファレンス)
- [リファレンスA: クイックチェックリスト](#リファレンスa-クイックチェックリスト)
- [リファレンスB: YAMLフロントマター](#リファレンスb-yamlフロントマター)
- [リファレンスC: 完全なスキルの例](#リファレンスc-完全なスキルの例)

---

## はじめに

スキルとは、Claudeに特定のタスクやワークフローの処理方法を教えるための命令セットであり、シンプルなフォルダとしてパッケージされる。スキルはClaudeをカスタマイズするための最も強力な方法の一つである。毎回の会話であなたの好み、プロセス、専門知識を再説明する代わりに、スキルを使えば一度教えるだけで毎回その恩恵を受けられる。

スキルが効果的なのは、繰り返しのワークフローがある場合だ: 仕様からフロントエンドデザインを生成する、一貫した方法論で調査を行う、チームのスタイルガイドに従ったドキュメントを作成する、複数ステップのプロセスを統括する、などである。コード実行やドキュメント作成などのClaudeの組み込み機能とうまく連携する。MCPインテグレーションを構築している人にとっては、もう一つの強力なレイヤーとなり、生のツールアクセスを信頼性の高い最適化されたワークフローに変える手助けをする。

本ガイドでは、効果的なスキルを構築するために知っておくべきすべてを網羅する ― 計画と構造からテストと配布まで。自分用、チーム用、コミュニティ用のスキルを構築する場合でも、実践的なパターンと実例が随所に見つかる。

### 学べること

- スキル構造の技術要件とベストプラクティス
- スタンドアロンスキルとMCP強化ワークフローのパターン
- さまざまなユースケースで効果的だったパターン
- テスト、反復、配布の方法

### 対象読者

- Claudeに特定のワークフローを一貫して実行させたい開発者
- Claudeに特定のワークフローを実行させたいパワーユーザー
- 組織全体でClaudeの動作を標準化したいチーム

### 本ガイドの2つの読み方

**スタンドアロンスキルを構築する場合:** 「基本」「計画と設計」そしてカテゴリー1-2に焦点を当てよ。**MCPインテグレーションを強化する場合:** 「Skills + MCP」セクションとカテゴリー3が対象。どちらの道も同じ技術要件を共有するが、ユースケースに応じて関連するものを選べる。

**得られるもの:** 本ガイドの終わりまでに、1回の作業セッションで機能するスキルを構築できるようになる。skill-creatorを使えば、最初の動くスキルの構築・テストに約15〜30分を見込める。

---

## 第1章: 基本

### スキルとは何か

スキルとは、以下を含むフォルダである:

- **SKILL.md** (必須): YAMLフロントマター付きのMarkdown形式の命令書
- **scripts/** (任意): 実行可能なコード (Python, Bashなど)
- **references/** (任意): 必要に応じてロードされるドキュメント
- **assets/** (任意): 出力に使用されるテンプレート、フォント、アイコン

### コア設計原則

#### Progressive Disclosure（段階的開示）

スキルは3レベルのシステムを使用する:

- **第1レベル (YAMLフロントマター):** 常にClaudeのシステムプロンプトにロードされる。Claudeが各スキルをいつ使うべきかを知るための最小限の情報を提供する。すべてをコンテキストにロードすることなく。
- **第2レベル (SKILL.md本文):** Claudeがスキルが現在のタスクに関連すると判断した時にロードされる。完全な命令とガイダンスを含む。
- **第3レベル (リンクされたファイル):** スキルディレクトリ内にバンドルされた追加ファイル。Claudeが必要に応じてナビゲートし発見できる。

この段階的開示により、トークン使用量を最小化しつつ、専門的な知識を維持する。

#### 構成可能性（Composability）

Claudeは複数のスキルを同時にロードできる。あなたのスキルは他のスキルと共存し、自分が唯一の機能であると仮定してはならない。

#### 移植性（Portability）

スキルはClaude.ai、Claude Code、APIで同一に動作する。一度作成すれば、環境が依存関係をサポートしている限り、すべてのサーフェスで修正なしに動作する。

### MCP構築者向け: Skills + コネクタ

> 💡 MCPなしでスタンドアロンスキルを構築する場合は、「計画と設計」にスキップし、後で戻ることもできる。

MCPサーバーが既に動いていれば、難しい部分は終わっている。スキルはその上の知識レイヤーであり、あなたが既に知っているワークフローとベストプラクティスを捉え、Claudeが一貫して適用できるようにする。

#### キッチンの例え

MCPはプロのキッチンを提供する: ツール、材料、機器へのアクセス。
スキルはレシピを提供する: 価値あるものを作るためのステップバイステップの手順。

#### 連携の仕組み

| MCP (接続性) | Skills (知識) |
|---|---|
| Claudeをサービスに接続(Notion, Asana, Linearなど) | Claudeにサービスの効果的な使い方を教える |
| リアルタイムのデータアクセスとツール呼び出しを提供 | ワークフローとベストプラクティスを捉える |
| Claudeが**何をできるか** | Claudeが**どのように行うべきか** |

#### スキルなしの場合

- ユーザーがMCPを接続するが次に何をすべかわからない
- 「インテグレーションでXをどうやるか」というサポートチケット
- 毎回の会話がゼロから始まる
- ユーザーごとにプロンプトが異なるため結果が不一致
- 本当の問題はワークフローガイダンスなのにコネクタのせいにされる

#### スキルありの場合

- 構築済みのワークフローが必要な時に自動的に起動
- 一貫した信頼性のあるツール使用
- ベストプラクティスがすべてのインタラクションに埋め込まれる
- インテグレーションの学習曲線が低下

---

## 第2章: 計画と設計

### ユースケースから始める

コードを書く前に、スキルで実現すべき2〜3の具体的なユースケースを特定せよ。

#### 良いユースケース定義の例

```
ユースケース: プロジェクトスプリント計画
トリガー: ユーザーが「このスプリントの計画を手伝って」「スプリントタスクを作って」と言う
ステップ:
1. LinearからCurrentプロジェクトステータスを取得 (MCP経由)
2. チームのベロシティとキャパシティを分析
3. タスクの優先順位を提案
4. 適切なラベルと見積もり付きでLinearにタスクを作成
結果: タスクが作成された完全に計画されたスプリント
```

自問すべきこと:
- ユーザーは何を達成したいのか？
- どのような複数ステップのワークフローが必要か？
- どのツールが必要か（組み込みまたはMCP）？
- どのようなドメイン知識やベストプラクティスを埋め込むべきか？

### 一般的なスキルのユースケースカテゴリ

#### カテゴリ1: ドキュメント & アセット作成

ドキュメント、プレゼンテーション、アプリ、デザイン、コードなど、一貫した高品質の出力を作成するために使用。

主要なテクニック:
- 埋め込みスタイルガイドとブランド基準
- 一貫した出力のためのテンプレート構造
- ファイナライズ前の品質チェックリスト
- 外部ツール不要 — Claudeの組み込み機能を使用

#### カテゴリ2: ワークフロー自動化

一貫した方法論が益をもたらす複数ステップのプロセスに使用。

主要なテクニック:
- バリデーションゲート付きのステップバイステップワークフロー
- 一般的な構造のテンプレート
- 組み込みのレビューと改善提案
- 反復的な改善ループ

#### カテゴリ3: MCP強化

MCPサーバーが提供するツールアクセスに対するワークフローガイダンスに使用。

主要なテクニック:
- 複数のMCPコールを順序通りに調整
- ドメイン専門知識の埋め込み
- ユーザーが指定する必要があるコンテキストの提供
- 一般的なMCPの問題に対するエラーハンドリング

### 成功基準の定義

スキルが機能しているかどうかをどう判断するか？

以下は目標ターゲットである — 正確な閾値ではなく大まかなベンチマーク。厳密さを目指しつつ、バイブスベースの評価要素があることを受け入れよ。

#### 定量的メトリクス

- **スキルが90%の関連クエリでトリガーする**
  - 測定方法: スキルをトリガーすべき10〜20のテストクエリを実行。自動ロードされた回数と明示的呼び出しが必要だった回数を追跡。
- **ワークフローがXツールコールで完了する**
  - 測定方法: スキル有無で同じタスクを比較。ツールコール数と総トークン消費量をカウント。
- **ワークフローごとのAPI失敗が0回**
  - 測定方法: テスト実行中のMCPサーバーログを監視。リトライ率とエラーコードを追跡。

#### 定性的メトリクス

- ユーザーが次のステップについてClaudeにプロンプトする必要がない
- ワークフローがユーザーの修正なしで完了する
- セッション間で一貫した結果

### 技術要件

#### ファイル構造

```
your-skill-name/
├── SKILL.md              # 必須 - メインスキルファイル
├── scripts/              # 任意 - 実行可能コード
│   ├── process_data.py
│   └── validate.sh
├── references/           # 任意 - ドキュメント
│   ├── api-guide.md
│   └── examples/
└── assets/               # 任意 - テンプレート等
    └── report-template.md
```

#### 重要なルール

**SKILL.mdの命名:**
- 正確に `SKILL.md` でなければならない（大文字小文字を区別）
- バリエーションは不可 (`SKILL.MD`, `skill.md` など)

**スキルフォルダの命名:**
- kebab-caseを使用: `notion-project-setup` ✅
- スペース禁止: `Notion Project Setup` ❌
- アンダースコア禁止: `notion_project_setup` ❌
- 大文字禁止: `NotionProjectSetup` ❌

**README.mdは不要:**
- スキルフォルダ内にREADME.mdを含めない
- すべてのドキュメントはSKILL.mdまたは `references/` に入れる
- 注: GitHub経由で配布する場合、リポジトリレベルのREADMEは人間のユーザー向けに必要

### YAMLフロントマター: 最も重要な部分

YAMLフロントマターは、Claudeがスキルをロードすべきかを判断する方法である。これを正しく設定せよ。

#### 最小限の必須フォーマット

```yaml
---
name: your-skill-name
description: 何をするか。ユーザーが[特定のフレーズ]で尋ねた時に使用する。
---
```

これだけで開始できる。

#### フィールド要件

**name (必須):**
- kebab-caseのみ
- スペースや大文字なし
- フォルダ名と一致すべき

**description (必須):**
- 以下の**両方**を含むこと:
  - 何をするか
  - いつ使うか（トリガー条件）
- 1024文字以内
- XMLタグ (`<` `>`) なし
- ユーザーが言いそうな具体的なタスクを含める
- 関連するファイル形式があれば記載

**license (任意):**
- オープンソースにする場合に使用
- 一般的: MIT, Apache-2.0

**compatibility (任意):**
- 1〜500文字
- 環境要件を示す: 対象プロダクト、必要なシステムパッケージ、ネットワークアクセスなど

**metadata (任意):**
- 任意のカスタムキーバリューペア
- 推奨: author, version, mcp-server

```yaml
metadata:
  author: ProjectHub
  version: 1.0.0
  mcp-server: projecthub
```

#### セキュリティ制約

フロントマターで禁止:
- XMLアングルブラケット (`< >`)
- "claude" や "anthropic" をnameに含むスキル（予約語）

理由: フロントマターはClaudeのシステムプロンプトに表示される。悪意のあるコンテンツが命令を注入する可能性がある。

### descriptionフィールドの書き方

Anthropicのエンジニアリングブログによると: 「このメタデータは...Claudeが各スキルをいつ使うべきかを知るための最小限の情報を提供する。すべてをコンテキストにロードすることなく。」これはProgressive Disclosureの第1レベルである。

#### 構造

`[何をするか] + [いつ使うか] + [主要な機能]`

#### 良いdescriptionの例

```
# 良い — 具体的で行動可能
description: Figmaデザインファイルを分析し、開発者ハンドオフドキュメントを生成する。ユーザーが.figファイルをアップロードした時、「デザインスペック」「コンポーネントドキュメント」「デザインからコードへのハンドオフ」を求めた時に使用。

# 良い — トリガーフレーズを含む
description: Linearプロジェクトワークフローを管理。スプリント計画、タスク作成、ステータス追跡を含む。ユーザーが「スプリント」「Linearタスク」「プロジェクト計画」と言った時、「チケットを作って」と言った時に使用。

# 良い — 明確な価値提案
description: PayFlowのエンドツーエンドの顧客オンボーディングワークフロー。アカウント作成、支払い設定、サブスクリプション管理を処理する。ユーザーが「新規顧客をオンボード」「サブスクリプションを設定」「PayFlowアカウントを作成」と言った時に使用。
```

#### 悪いdescriptionの例

```
# 曖昧すぎる
description: プロジェクトの手伝い。

# トリガーなし
description: 洗練された複数ページのドキュメントシステムを作成する。

# 技術的すぎる、ユーザートリガーなし
description: 階層的な関係を持つProjectエンティティモデルを実装する。
```

### 効果的なスキルの書き方

#### 推奨構造

```markdown
---
name: your-skill
description: [...]
---

# スキル名

## Instructions
### Step 1: [最初の主要ステップ]
何が起こるかの明確な説明。

### Step 2: [次のステップ]
（必要に応じてステップを追加）

## Examples
Example 1: [一般的なシナリオ]
User says: "新しいマーケティングキャンペーンを設定して"

Actions:
1. MCP経由で既存キャンペーンを取得
2. 提供されたパラメータで新しいキャンペーンを作成

Result: 確認リンク付きのキャンペーンが作成される
（必要に応じて例を追加）

## Troubleshooting
Error: [一般的なエラーメッセージ]
Cause: [なぜ起こるか]
Solution: [修正方法]
（必要に応じてエラーケースを追加）
```

#### 命令のベストプラクティス

**具体的で行動可能に:**

✅ 良い:
```
`python scripts/validate.py --input {filename}` を実行してデータ形式をチェック。
バリデーションが失敗した場合、一般的な問題:
- 必須フィールドの欠落（CSVに追加）
- 無効な日付形式（YYYY-MM-DDを使用）
```

❌ 悪い:
```
続行する前にデータをバリデートせよ。
```

**バンドルリソースを明確に参照:**
```
クエリを書く前に、`references/api-patterns.md` を参照:
- レート制限ガイダンス
- ページネーションパターン
- エラーコードとハンドリング
```

**Progressive Disclosureを使用:**
SKILL.mdはコアインストラクションに集中させ、詳細なドキュメントは `references/` に移動してリンクする。

**エラーハンドリングを含める:**
```
## Common Issues
### MCP接続失敗
"Connection refused" が表示された場合:
1. MCPサーバーが動いているか確認: Settings > Extensions
2. APIキーが有効か確認
3. 再接続を試す: Settings > Extensions > [サービス] > Reconnect
```

---

## 第3章: テストと反復

スキルは必要に応じてさまざまなレベルの厳密さでテストできる:

- **Claude.aiでの手動テスト** — クエリを直接実行して動作を観察。セットアップ不要で高速な反復。
- **Claude Codeでのスクリプトテスト** — 変更に対して繰り返し可能なバリデーションのためにテストケースを自動化。
- **Skills APIによるプログラマティックテスト** — 定義されたテストセットに対して体系的に実行される評価スイートを構築。

品質要件とスキルの可視性に合ったアプローチを選択せよ。少人数チームで内部使用されるスキルは、何千もの企業ユーザーに展開されるものとはテストニーズが異なる。

> **Pro Tip:** 拡張する前に単一のタスクで反復せよ
> 
> 最も効果的なスキルクリエイターは、Claudeが成功するまで単一の挑戦的なタスクで反復し、そこから勝利のアプローチをスキルに抽出する。これはClaudeのインコンテキスト学習を活用し、広範なテストよりも速いシグナルを提供する。動く基盤ができたら、カバレッジのために複数のテストケースに拡張せよ。

### 推奨テストアプローチ

#### 1. トリガーテスト

目標: スキルが適切なタイミングでロードされることを確認。

テストケース:
- ✅ 明白なタスクでトリガーする
- ✅ 言い換えられたリクエストでトリガーする
- ❌ 無関係なトピックではトリガーしない

テストスイートの例:
```
トリガーすべき:
- "ProjectHubの新しいワークスペースをセットアップしたい"
- "ProjectHubでプロジェクトを作る必要がある"
- "Q4計画用のProjectHubプロジェクトを初期化して"

トリガーすべきでない:
- "サンフランシスコの天気は？"
- "Pythonコードを書く手伝いをして"
- "スプレッドシートを作って"（ProjectHubスキルがシートを扱わない限り）
```

#### 2. 機能テスト

目標: スキルが正しい出力を生成することを確認。

テストケース:
- 有効な出力が生成される
- APIコールが成功する
- エラーハンドリングが機能する
- エッジケースがカバーされている

例:
```
テスト: 5つのタスク付きプロジェクト作成
Given: プロジェクト名 "Q4 Planning"、5つのタスク説明
When: スキルがワークフローを実行
Then:
- プロジェクトがProjectHubに作成される
- 5つのタスクが正しいプロパティで作成される
- すべてのタスクがプロジェクトにリンクされる
- APIエラーなし
```

#### 3. パフォーマンス比較

目標: スキルがベースラインと比較して結果を改善することを証明。

```
スキルなし:
- ユーザーが毎回指示を提供
- 15回のやり取り
- 3回のAPI失敗（リトライ必要）
- 12,000トークン消費

スキルあり:
- 自動ワークフロー実行
- 2回の確認質問のみ
- 0回のAPI失敗
- 6,000トークン消費
```

### skill-creatorスキルの使用

skill-creatorスキル（Claude.aiのプラグインディレクトリ経由、またはClaude Code用にダウンロード可能）は、スキルの構築と反復を支援する。MCPサーバーがあり、トップ2〜3のワークフローがわかっていれば、1回のセッションで機能するスキルを構築・テストできる — 通常15〜30分。

**スキルの作成:**
- 自然言語の説明からスキルを生成
- 適切にフォーマットされたSKILL.mdをフロントマター付きで生成
- トリガーフレーズと構造を提案

**スキルのレビュー:**
- 一般的な問題をフラグ（曖昧な説明、トリガー不足、構造的問題）
- 過剰/不足トリガーのリスクを特定
- スキルの目的に基づいてテストケースを提案

**反復的改善:**
- スキルを使用してエッジケースや失敗に遭遇した後、それらの例をskill-creatorに持ち込む
- 例: 「このチャットで特定されたissueと解決策を使って、スキルの[特定のエッジケース]の処理を改善して」

使い方: `"skill-creatorスキルを使って[ユースケース]用のスキルを構築する手伝いをして"`

注: skill-creatorはスキルの設計と改善を支援するが、自動テストスイートの実行や定量的な評価結果の生成は行わない。

### フィードバックに基づく反復

スキルは生きたドキュメントである。以下に基づいて反復する計画を立てよ:

**アンダートリガーのシグナル:**
- スキルがロードされるべき時にロードされない
- ユーザーが手動で有効にしている
- いつ使うかについてのサポート質問

対処: descriptionにより詳細とニュアンスを追加 — 特に技術用語のキーワード

**オーバートリガーのシグナル:**
- 無関係なクエリでスキルがロードされる
- ユーザーが無効にしている
- 目的についての混乱

対処: ネガティブトリガーを追加し、より具体的にする

**実行の問題:**
- 結果が不一致
- APIコール失敗
- ユーザーの修正が必要

対処: 命令を改善し、エラーハンドリングを追加

---

## 第4章: 配布と共有

スキルはMCPインテグレーションをより完全にする。ユーザーがコネクタを比較する際、スキル付きのものはより速い価値への道を提供し、MCPのみの代替手段に対する優位性を与える。

### 現在の配布モデル (2026年1月)

**個人ユーザーがスキルを取得する方法:**
1. スキルフォルダをダウンロード
2. フォルダをzip化（必要な場合）
3. Claude.aiの Settings > Capabilities > Skills からアップロード
4. またはClaude Codeのスキルディレクトリに配置

**組織レベルのスキル:**
- 管理者がワークスペース全体にスキルを展開可能（2025年12月18日出荷）
- 自動アップデート
- 集中管理

### API経由でのスキル使用

プログラマティックなユースケース — アプリケーション、エージェント、または自動化ワークフローの構築など — の場合、APIはスキル管理と実行に対する直接制御を提供する。

主要な機能:
- スキルのリスト化と管理のための `/v1/skills` エンドポイント
- `container.skills` パラメータでMessages APIリクエストにスキルを追加
- Claude Consoleによるバージョン管理
- カスタムエージェント構築のためのClaude Agent SDKとの連携

### オープンスタンダード

Agent Skillsをオープンスタンダードとして公開した。MCPと同様に、スキルはツールやプラットフォーム間で移植可能であるべきと考えている。

### 推奨アプローチ

GitHubの公開リポジトリでスキルをホストすることから始める。明確なREADME（人間の訪問者向け）、使用例とスクリーンショットを含める。

1. **GitHubでホスト** — 公開リポジトリ、インストール手順付きの明確なREADME
2. **MCPリポジトリにドキュメント化** — MCPドキュメントからスキルにリンク、両方を使う価値を説明
3. **インストールガイドを作成** — ステップバイステップの手順

### スキルのポジショニング

**成果に焦点を当てよ（機能ではなく）:**

✅ 良い:
> 「ProjectHubスキルにより、チームは数秒で完全なプロジェクトワークスペースをセットアップできる — ページ、データベース、テンプレートを含む — 手動セットアップの30分を費やす代わりに。」

❌ 悪い:
> 「ProjectHubスキルは、MCPサーバーツールを呼び出すYAMLフロントマターとMarkdown命令を含むフォルダである。」

**MCP + スキルのストーリーを強調:**
> 「MCPサーバーはClaudeにLinearプロジェクトへのアクセスを与える。スキルはチームのスプリント計画ワークフローをClaudeに教える。一緒に、AI駆動のプロジェクト管理を実現する。」

---

## 第5章: パターンとトラブルシューティング

これらのパターンは、アーリーアダプターと内部チームが作成したスキルから出現した。効果的だった一般的なアプローチであり、規範的なテンプレートではない。

### アプローチの選択: 問題ファーストvs.ツールファースト

ホームセンターのように考えよ。「キッチンキャビネットを直したい」という問題を持って入るかもしれない。店員が適切なツールを教えてくれる。あるいは、新しいドリルを選んで、自分の仕事にどう使うかを尋ねるかもしれない。

スキルも同じ:
- **問題ファースト:** 「プロジェクトワークスペースをセットアップしたい」→ スキルが適切なMCPコールを適切な順序で調整。ユーザーは成果を記述し、スキルがツールを扱う。
- **ツールファースト:** 「Notion MCPが接続されている」→ スキルがClaudeに最適なワークフローとベストプラクティスを教える。ユーザーはアクセスを持ち、スキルが専門知識を提供。

### パターン1: 順次ワークフローオーケストレーション

使用場面: ユーザーが特定の順序で複数ステップのプロセスを必要とする時。

主要なテクニック:
- 明示的なステップ順序
- ステップ間の依存関係
- 各段階でのバリデーション
- 失敗時のロールバック手順

### パターン2: マルチMCPコーディネーション

使用場面: ワークフローが複数のサービスにまたがる時。

主要なテクニック:
- 明確なフェーズ分離
- MCP間のデータ受け渡し
- 次のフェーズに移る前のバリデーション
- 集中型エラーハンドリング

### パターン3: 反復的改善

使用場面: 反復によって出力品質が向上する時。

主要なテクニック:
- 明示的な品質基準
- 反復的改善
- バリデーションスクリプト
- いつ反復を停止するかの判断

### パターン4: コンテキストアウェアなツール選択

使用場面: 同じ結果に対して、コンテキストに応じて異なるツールを使う時。

主要なテクニック:
- 明確な判断基準
- フォールバックオプション
- 選択理由の透明性

### パターン5: ドメイン特化型インテリジェンス

使用場面: スキルがツールアクセス以上の専門知識を追加する時。

主要なテクニック:
- ロジックに埋め込まれたドメイン専門知識
- アクション前のコンプライアンス
- 包括的なドキュメント
- 明確なガバナンス

### トラブルシューティング

#### スキルがアップロードできない

エラー: "Could not find SKILL.md in uploaded folder"
原因: ファイル名が正確に SKILL.md でない
対処: SKILL.md にリネーム（大文字小文字を区別）。`ls -la` で確認。

エラー: "Invalid frontmatter"
原因: YAMLフォーマットの問題
よくある間違い:
```yaml
# 間違い — デリミタなし
name: my-skill
description: Does things

# 間違い — 閉じていないクオート
name: my-skill
description: "Does things

# 正しい
---
name: my-skill
description: Does things
---
```

エラー: "Invalid skill name"
原因: 名前にスペースや大文字がある
```yaml
# 間違い
name: My Cool Skill

# 正しい
name: my-cool-skill
```

#### スキルがトリガーされない

症状: スキルが自動的にロードされない
修正: descriptionフィールドを改訂する。

クイックチェックリスト:
- 「プロジェクトの手伝い」のように汎用的すぎないか？
- ユーザーが実際に言いそうなトリガーフレーズを含んでいるか？
- 関連するファイル形式に言及しているか？

デバッグアプローチ:
Claudeに尋ねる: 「[スキル名]スキルをいつ使う？」Claudeがdescriptionを引用して返す。不足しているものに基づいて調整。

#### スキルが頻繁にトリガーされすぎる

症状: 無関係なクエリでスキルがロードされる

対処:
1. ネガティブトリガーを追加:
```
description: CSVファイルの高度なデータ分析。統計モデリング、回帰、クラスタリングに使用。シンプルなデータ探索には使用しない（data-vizスキルを代わりに使用）。
```

2. より具体的にする:
```
# 広すぎる
description: ドキュメントを処理する
# より具体的
description: 契約レビュー用のPDF法的ドキュメントを処理する
```

3. スコープを明確化:
```
description: Eコマース向けPayFlow決済処理。オンライン決済ワークフロー専用。一般的な金融クエリには使用しない。
```

#### 命令に従わない

症状: スキルがロードされるがClaudeが命令に従わない

一般的な原因:
1. **命令が冗長すぎる** — 簡潔に保つ。箇条書きと番号付きリストを使用。詳細な参照は別ファイルに移動。
2. **命令が埋もれている** — 重要な命令を上部に配置。`## Important` や `## Critical` ヘッダーを使用。必要に応じて キーポイントを繰り返す。
3. **曖昧な言語** —
```
# 悪い
適切にバリデートせよ

# 良い
CRITICAL: create_project を呼び出す前に確認:
- プロジェクト名が空でない
- 少なくとも1人のチームメンバーがアサインされている
- 開始日が過去でない
```

**上級テクニック:** 重要なバリデーションについては、言語命令に頼るよりも、プログラム的にチェックを行うスクリプトをバンドルすることを検討せよ。コードは決定論的であり、言語の解釈はそうではない。

4. **モデルの「怠惰さ」** — 明示的な督促を追加:
```
## パフォーマンスノート
- 時間をかけて徹底的に行え
- 品質はスピードより重要
- バリデーションステップをスキップするな
```

注: これをユーザープロンプトに追加する方がSKILL.mdに追加するよりも効果的。

#### 大きなコンテキストの問題

症状: スキルが遅く感じる、またはレスポンスが劣化する

原因:
- スキルコンテンツが大きすぎる
- 同時に有効なスキルが多すぎる
- Progressive Disclosureの代わりにすべてのコンテンツがロードされている

対処:
1. **SKILL.mdのサイズを最適化** — 詳細なドキュメントを `references/` に移動。インラインではなくリンク。SKILL.mdは5000語以下に保つ。
2. **有効なスキルを減らす** — 20〜50以上のスキルが同時に有効かどうか評価。選択的な有効化を推奨。関連する機能のスキル「パック」を検討。

---

## 第6章: リソースとリファレンス

### 公式ドキュメント

**Anthropicリソース:**
- Best Practices Guide
- Skills Documentation
- API Reference
- MCP Documentation

**ブログ投稿:**
- Introducing Agent Skills
- Engineering Blog: Equipping Agents for the Real World
- Skills Explained
- How to Create Skills for Claude
- Building Skills for Claude Code
- Improving Frontend Design through Skills

### サンプルスキル

**公開スキルリポジトリ:**
- GitHub: anthropics/skills
- Anthropicが作成したカスタマイズ可能なスキルを含む

### ツールとユーティリティ

**skill-creatorスキル:**
- Claude.aiとClaude Codeに組み込み/利用可能
- 説明からスキルを生成
- レビューと推奨事項を提供
- 使い方: 「skill-creatorスキルを使って[ユースケース]用のスキルを構築する手伝いをして」

**バリデーション:**
- skill-creatorでスキルを評価可能
- 「このスキルをレビューして改善を提案して」と尋ねる

### サポート

**技術的な質問:**
- 一般質問: Claude Developers Discordのコミュニティフォーラム

**バグ報告:**
- GitHub Issues: anthropics/skills/issues
- 含めるべき情報: スキル名、エラーメッセージ、再現手順

---

## リファレンスA: クイックチェックリスト

スキルのアップロード前後にこのチェックリストを使用してバリデートせよ。

### 開始前
- [ ] 2〜3の具体的なユースケースを特定
- [ ] ツールを特定（組み込みまたはMCP）
- [ ] 本ガイドとサンプルスキルをレビュー
- [ ] フォルダ構造を計画

### 開発中
- [ ] フォルダ名がkebab-case
- [ ] SKILL.mdファイルが存在（正確なスペル）
- [ ] YAMLフロントマターに `---` デリミタがある
- [ ] nameフィールド: kebab-case、スペースなし、大文字なし
- [ ] descriptionにWHATとWHENを含む
- [ ] XMLタグ (`< >`) がどこにもない
- [ ] 命令が明確で行動可能
- [ ] エラーハンドリングを含む
- [ ] 例を含む
- [ ] 参照を明確にリンク

### アップロード前
- [ ] 明白なタスクでトリガーのテスト完了
- [ ] 言い換えリクエストでトリガーのテスト完了
- [ ] 無関係なトピックでトリガーされないことを確認
- [ ] 機能テスト合格
- [ ] ツール統合が動作（該当する場合）
- [ ] .zipファイルとして圧縮

### アップロード後
- [ ] 実際の会話でテスト
- [ ] アンダー/オーバートリガーを監視
- [ ] ユーザーフィードバックを収集
- [ ] descriptionと命令を反復
- [ ] メタデータのバージョンを更新

---

## リファレンスB: YAMLフロントマター

### 必須フィールド

```yaml
---
name: skill-name-in-kebab-case
description: 何をするか、いつ使うか。具体的なトリガーフレーズを含める。
---
```

### 全任意フィールド

```yaml
name: skill-name
description: [必須description]
license: MIT                                    # 任意: オープンソースライセンス
allowed-tools: "Bash(python:*) Bash(npm:*) WebFetch"  # 任意: ツールアクセスの制限
metadata:                                       # 任意: カスタムフィールド
  author: Company Name
  version: 1.0.0
  mcp-server: server-name
  category: productivity
  tags: [project-management, automation]
  documentation: https://example.com/docs
  support: support@example.com
```

### セキュリティ注意事項

**許可:**
- カスタムメタデータフィールド
- 任意の標準YAMLタイプ（文字列、数値、ブーリアン、リスト、オブジェクト）
- 長いdescription（最大1024文字）

**禁止:**
- XMLアングルブラケット (`< >`) — セキュリティ制約
- YAMLでのコード実行（安全なYAMLパーシングを使用）
- "claude" や "anthropic" プレフィックスを持つスキル名（予約語）

---

## リファレンスC: 完全なスキルの例

本ガイドのパターンをデモンストレーションする完全なプロダクションレディスキル:

- **Document Skills** — PDF, DOCX, PPTX, XLSX作成
- **Example Skills** — さまざまなワークフローパターン
- **Partner Skills Directory** — Asana, Atlassian, Canva, Figma, Sentry, Zapierなどのパートナーからのスキルを閲覧

これらのリポジトリは常に最新で、ここでカバーする以上の追加例を含む。クローンし、ユースケースに合わせて修正し、テンプレートとして使用せよ。
